(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"6d55":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{staticClass:"myfont ",attrs:{view:"lHh Lpr lFf"}},[s("q-page-container",[s("q-page",[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 q-mt-md flex flex-center"},[s("span",{staticClass:"text-h4 text-bold q-my-md"},[e._v("Customer Support")])]),s("center",[s("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"300px"}},[s("div",{staticClass:"q-gutter-md"},[s("q-select",{ref:"concern",attrs:{outlined:"",options:e.concerns,label:"Select Your Concern",rules:[function(e){return!!e||"Required"}]},model:{value:e.concern,callback:function(t){e.concern=t},expression:"concern"}}),s("q-select",{ref:"priority",attrs:{outlined:"",options:e.priorities,label:"Select Your Priorities",rules:[function(e){return!!e||"Required"}]},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}}),s("q-input",{ref:"message",attrs:{rules:[function(e){return!!e||"Required"}],filled:"",type:"textarea"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("q-btn",{staticClass:" q-mt-md float-right",attrs:{size:"20px",color:"info",label:"Send"},on:{click:function(t){return e.onSubmit()}}})],1)])])],1)],1)],1)},r=[],o={name:"ProfilePage",data(){return{concern:null,concerns:[" Scan QR","Voucher","Cashout","Pay QR","Verification","Others"],priority:null,priorities:["Low","Medium","High","Urgent"],message:"Write Something!",name:null,email:null,msg:null}},methods:{onSubmit(){this.$refs.concern.validate(),this.$refs.priority.validate(),this.$refs.message.validate(),this.$refs.concern.hasError||this.$refs.priority.hasError||this.$refs.message.hasError||this.$axios.post("support_tickets/create",{name:this.name,mobile_number:this.$q.localStorage.getItem("mobile").toString(),email:this.email,issue:this.concern,priority:this.priority,description:this.message},{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token"),"Content-Type":"application/json"}}).then(e=>{console.log(e.data),this.msg="Message Successfully Sent!",this.showNotif()}).catch(e=>{console.log(e.response)})},showNotif(){this.$q.notify({message:this.msg,color:"info"})},getUser(){this.$axios.post("user",{mobile_number:this.$q.localStorage.getItem("mobile").toString()},{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token"),"Content-Type":"application/json"}}).then(e=>{this.name=e.data.results.user.first_name+" "+e.data.results.user.middle_name+" "+e.data.results.user.last_name,this.email=e.data.results.user.email}).catch(e=>{console.log(e.response)})}},created(){this.getUser()}},a=o,n=s("2877"),l=s("4d5a"),c=s("09e3"),u=s("9989"),m=s("ddd8"),h=s("27f9"),p=s("9c40"),d=s("eebe"),g=s.n(d),f=Object(n["a"])(a,i,r,!1,null,null,null);t["default"]=f.exports;g()(f,"components",{QLayout:l["a"],QPageContainer:c["a"],QPage:u["a"],QSelect:m["a"],QInput:h["a"],QBtn:p["a"]})}}]);